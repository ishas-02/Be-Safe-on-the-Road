# SafeDrive Monitor ðŸš—ðŸ›¡ï¸

SafeDrive Monitor is an Android application designed to improve road safety by monitoring driving risks and providing real-time voice-assisted feedback. It integrates offline Speech-to-Text (STT), Text-to-Speech (TTS), and a backend interaction system to support drivers hands-free.

## ðŸš€ Key Features

*   **Real-time Risk Dashboard**: Visualizes driving risk levels (Safe, Caution, Moderate, High, Critical) with a circular progress indicator.
*   **Voice Assistant**: A hands-free Q&A system using **Vosk Offline STT**. Drivers can hold a microphone button to ask questions and receive spoken answers from a backend LLM/Assistant.
*   **Intelligent Risk Alerts**: Sends risk levels to a Flask backend to receive context-aware safety instructions, which are then read aloud via TTS.
*   **Trip Reports**: Fetches a list of recent driving events and allows users to download and view a comprehensive PDF trip report generated by the backend.
*   **Customizable Voice & Server**: Easily update the backend server IP and configure TTS voice (Male/Female) and language (English/Spanish) through a settings menu.

## ðŸ› ï¸ Tech Stack

*   **Language**: Kotlin
*   **UI Components**: Material Design 3, ViewPager2, RecyclerView, TabLayout.
*   **Offline STT**: [Vosk-Android](https://alphacephei.com/vosk/)
*   **Networking**: OkHttp (with Coroutines for async calls)
*   **JSON Parsing**: GSON
*   **Backend**: Designed to work with a Flask-based server (integrating LLMs and PDF generation).

## ðŸ“‹ Prerequisites

*   **Android SDK**: Minimum API Level 24 (Android 7.0).
*   **Permissions**: The app requires Microphone (`RECORD_AUDIO`) and Internet access.
*   **Vosk Model**: Ensure a compatible Vosk model (e.g., `vosk-model-small-en-us-0.15`) is placed in the `app/src/main/assets/` directory.

## âš™ï¸ Setup & Installation

1.  **Clone the Repository**:
    ```bash
    git clone https://github.com/your-username/SafeDriveMonitor.git
    ```
2.  **Open in Android Studio**: Sync the project with Gradle files.
3.  **Backend Configuration**: 
    - Launch your Flask backend server.
    - In the app, tap the **Settings** (gear icon) in the toolbar.
    - Enter your server's IP address (e.g., `http://192.168.1.5:8000`).
4.  **Run**: Deploy to an Android device or emulator with microphone support.

## ðŸ—ï¸ Project Structure

- `DashboardFragment`: Manages the visual risk monitoring and alert triggers.
- `AssistantFragment`: Handles the voice interaction loop (STT -> Backend -> TTS).
- `ReportsFragment`: Manages event fetching and PDF report downloads.
- `SimpleVoskStt`: A wrapper class for managing the offline speech recognition lifecycle.
- `MainActivity`: Orchestrates navigation and global settings (TTS/URL).

---
*Built to help everyone Be Safe On The Road.*
